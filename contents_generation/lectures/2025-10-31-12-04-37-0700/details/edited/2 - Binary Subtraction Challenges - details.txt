# 2. Binary Subtraction Challenges

Binary subtraction presents challenges when the subtrahend is larger than the minuend, leading to negative results. Traditional manual borrowing methods are inefficient for computers, necessitating an alternative approach that involves detecting an "end borrow" and correcting the magnitude using a specific mathematical operation. This leads to the concept of complements for efficient hardware implementation. ‚ü¶s000258, s000259, s000266, s000268, s000308, s000316, s000361, s000443, s000444, s000445, s000446, s000447‚üß

## ‚ö†Ô∏è The Challenge of Binary Subtraction
Binary subtraction can be straightforward, but it becomes problematic when the *subtrahend* (the number being subtracted) is greater than the *minuend* (the number from which another is subtracted) ‚ü¶s000258, s000259‚üß. In such cases, the difference will be a negative number ‚ü¶s000260‚üß. While humans can easily handle this by reversing the numbers, appending a minus sign, and using borrowing, this method requires significant hardware and is slow for computer processors ‚ü¶s000261, s000262, s000263, s000265, s000266‚üß. Therefore, better, more efficient ways are needed for computers to perform subtraction ‚ü¶s000268‚üß.

## üí° An Alternative Approach: Handling Negative Results
An alternative method involves performing subtraction without initially considering the relative magnitudes of the numbers ‚ü¶s000269‚üß. For instance, when subtracting a larger number (N) from a smaller number (M), the result will inherently be negative ‚ü¶s000271‚üß. If a subtraction requires borrowing into the most significant position, this is termed an ***end borrow*** ‚ü¶s000308, s000309‚üß. The presence of an end borrow indicates that the result is negative ‚ü¶s000311‚üß. Its magnitude needs to be corrected because the initial subtraction process effectively added 2^N (where N is the number of digits) to the true difference ‚ü¶s000316, s000318, s000320, s000322‚üß. To obtain the correct magnitude (N - M), the calculated result (M - N + 2^N) must be subtracted from 2^N ‚ü¶s000326, s000329‚üß. Then, a minus sign is appended ‚ü¶s000328‚üß. This final correction step is known as taking the ***two's complement*** of the number ‚ü¶s000361‚üß.

## ‚öôÔ∏è Steps for Binary Subtraction with End Borrow Correction
To subtract two N-digit binary numbers (M - N):
1.  Compute M - N directly.
2.  If no end borrow occurs, the difference is non-negative and the result is correct.
3.  If an end borrow occurs (meaning N was larger than M), the computed result is M - N + 2^N. To correct this:
    *   Subtract this result from 2^N.
    *   Append a minus sign to the final magnitude.
    *   This process of subtracting from 2^N is equivalent to taking the two's complement of the initial result.
‚ü¶s000354, s000355, s000356, s000357, s000359, s000361‚üß

## üìù Example of Subtraction with End Borrow
Consider subtracting N = 11110 (decimal 30) from M = 10011 (decimal 19) ‚ü¶s000270, s000271, s000275, s000277, s000279‚üß. The expected result is -11 ‚ü¶s000280‚üß.

1.  **Direct Subtraction (M - N):**
    Performing this subtraction requires borrowing across multiple positions ‚ü¶s000283, s000284, s000285, s000286, s000289, s000291, s000292‚üß. This eventually leads to an "end borrow" where a '1' is temporarily added to the leftmost position of M to facilitate borrowing ‚ü¶s000293, s000294, s000295, s000296‚üß. The result of this intermediate calculation is 10101 (decimal 21) ‚ü¶s000297, s000298, s000299, s000300‚üß. This is not the expected magnitude of 11 ‚ü¶s000303‚üß.

2.  **Correction for End Borrow:**
    Since an end borrow occurred, the result is negative, and its magnitude needs correction ‚ü¶s000311, s000316‚üß. The calculated value (10101) is M - N + 2^N ‚ü¶s000320, s000321, s000322‚üß. Here, N=5 bits, so 2^N is 100000 ‚ü¶s000332‚üß. To get the correct magnitude (N - M), we subtract this calculated value from 2^N:
    ```
      100000  (2^N)
    - 10101   (Calculated M - N + 2^N)
    -------
      01011   (Result: 11)
    ```
    After performing the necessary borrowing for this subtraction ‚ü¶s000334, s000335, s000336, s000337, s000338, s000339, s000340, s000341, s000342, s000343, s000344, s000345, s000346‚üß, the result is 01011, which is decimal 11 ‚ü¶s000347‚üß. Appending the minus sign, the final answer is -11, matching the expected result ‚ü¶s000348, s000349‚üß.

## üñ•Ô∏è Hardware Implementation for Subtraction
To perform both addition and subtraction, a computer typically requires an adder circuit, a subtractor circuit, and a selective two's complementer ‚ü¶s000410, s000412‚üß. The subtractor circuit computes A minus B, but its output might be incorrect if B is larger than A ‚ü¶s000418‚üß. If A is larger than or equal to B, no end borrow occurs ‚ü¶s000419‚üß. In this case, a status bit from the subtractor remains zero, allowing the data to pass through unchanged ‚ü¶s000420, s000421, s000422‚üß. However, if B is larger than A, an end borrow occurs, setting the status bit to one ‚ü¶s000434, s000435‚üß. This signals the selective two's complementer to subtract the subtractor's output from 2^N (e.g., 2^4 for a 4-bit system) to obtain the correct magnitude ‚ü¶s000436, s000437‚üß. The minus sign is implicitly handled ‚ü¶s000438‚üß. While this approach works, more efficient methods exist that combine parts of the adder and subtractor into a common circuit ‚ü¶s000440, s000441, s000442‚üß.

## üìö Supplement: Introduction to Complements
The concept of *complements* is fundamental to how computers handle negative numbers and subtraction efficiently ‚ü¶s000443, s000444, s000445, s000446, s000447‚üß. In a given number system (radix), the *radix complement* of a number N with 'n' digits is calculated as R^n - N, where R is the base (radix) ‚ü¶s000450, s000451, s000452, s000453, s000455‚üß. For example, in base 10, the tens complement of 7 is 10 - 7 = 3 ‚ü¶s000450‚üß. For a two-digit number like 70, its tens complement is 100 - 70 = 30 ‚ü¶s000452‚üß. Similarly, in base 5, the fives complement of 3 is 2 ‚ü¶s000456, s000457‚üß. For 30 (base 5), its fives complement is 50 - 30 = 20 ‚ü¶s000458‚üß. There is also a *diminished radix complement*, which is the base minus one complement ‚ü¶s000459, s000460‚üß. For example, for base 5, this would be the "fours complement" ‚ü¶s000462‚üß. The diminished radix complement of three (base 5) is one ‚ü¶s000463‚üß. For binary numbers, the relevant complements are one's complement and two's complement ‚ü¶s000488 (noted elsewhere in the lecture)‚üß.